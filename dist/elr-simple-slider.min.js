!function($){window.elrSimpleSlider=function(params){var self={},spec=params||{},sliderClass=spec.sliderClass||"elr-simple-slider",slideClass=spec.slideClass||"elr-simple-slide",slideHolderClass=spec.slideHolderClass||"elr-simple-slide-holder",effect=spec.effect||"fade",navClass=spec.navClass||"elr-simple-slider-nav",slideListClass=spec.slideListClass||"elr-simple-slider-list",isAnimating=!1,speed=spec.speed||500,interval=spec.interval||5e3,auto=spec.auto||!0,$slider=$("."+sliderClass),createSlideList=function($slides){var li="";return $.each($slides,function(index){li+=0===index?'<li><button class="active" data-item-num="'+index+'"></button></li>':'<li><button data-item-num="'+index+'"></button></li>'}),elr.createElement("ul",{"class":slideListClass,html:li})},getCurrent=function($slideHolder){var $slides=$slideHolder.find("."+slideClass);return"fade"===effect?$slides.not(":hidden").index():"slide-left"===effect?Math.abs($slideHolder.position().left)/parseInt($slides.first().width(),10):void 0},goToSlide=function(current,slideNum,$slideHolder){var $slides=$slideHolder.find("."+slideClass);if("fade"===effect)$slides.eq(current).fadeOut(speed),$slides.eq(slideNum).fadeIn(speed);else if("slide-left"===effect){var slideDiff,newPos,slideWidth=parseInt($slides.first().width(),10),pos=$slideHolder.position().left;slideNum>current?(slideDiff=current-slideNum,newPos=pos+slideWidth*slideDiff):current>slideNum&&(slideDiff=-(current-slideNum),newPos=pos-slideWidth*slideDiff),$slideHolder.stop().animate({left:newPos},speed)}},fadeSlide=function(current,dir,$slides){var nextSlide,lastSlide=$slides.length-1;return $slides.eq(current).fadeOut(speed),"next"===dir&&current===lastSlide?($slides.first().fadeIn(speed),nextSlide=0):"next"===dir?($slides.eq(current+1).fadeIn(speed),nextSlide=current+1):"prev"===dir&&0===current?($slides.eq(lastSlide).fadeIn(speed),nextSlide=lastSlide):($slides.eq(current-1).fadeIn(speed),nextSlide=current-1),nextSlide},slideLeft=function(current,dir,$slides,$slideHolder){var newPos,$newSlides,numSlides,nextSlide,width,$oldSlides,lastSlide=$slides.length-1,slideWidth=parseInt($slides.first().width(),10),pos=$slideHolder.position().left;return isAnimating=!0,"next"===dir&&current===lastSlide?($oldSlides=$slides,$newSlides=$slides.clone(),numSlides=$slides.length,$slideHolder.css("width",2*slideWidth*numSlides),$slideHolder.append($newSlides),newPos=pos-slideWidth,$slideHolder.stop().animate({left:newPos},speed,"linear",function(){$slideHolder.css({width:slideWidth*numSlides,left:0}),$oldSlides.remove(),isAnimating=!1}),nextSlide=0):"next"===dir?(newPos=pos-slideWidth,nextSlide=Math.abs(newPos)/slideWidth,$slideHolder.stop().animate({left:newPos},speed,"linear",function(){isAnimating=!1})):"prev"===dir&&0===current?($oldSlides=$slides,$newSlides=$slides.clone(),numSlides=$slides.length,width=slideWidth*numSlides,$slideHolder.css("width",2*width),$slideHolder.prepend($newSlides),$slideHolder.css("left",-width),newPos=-width+slideWidth,$slideHolder.stop().animate({left:newPos},speed,"linear",function(){$slideHolder.css({width:width,left:-(width-slideWidth)}),$oldSlides.remove(),isAnimating=!1}),nextSlide=numSlides-1):(newPos=pos+slideWidth,nextSlide=Math.abs(newPos)/slideWidth,$slideHolder.stop().animate({left:newPos},speed,"linear",function(){isAnimating=!1})),nextSlide},advanceSlide=function(current,dir,$slideHolder){var $slides=$slideHolder.find("."+slideClass);return"fade"===effect?fadeSlide(current,dir,$slides):"slide-left"===effect?slideLeft(current,dir,$slides,$slideHolder):void 0},pageSlide=function(e,$slideHolder){var dir,current=getCurrent($slideHolder);if(37===e.which)dir="prev";else{if(39!==e.which)return;dir="next"}return advanceSlide(current,dir,$slideHolder)},startShow=function(interval,$slides,$nextControl){return setInterval(function(){$nextControl.trigger("click")},interval)},pauseShow=function(start){clearInterval(start),console.log("slider paused")};return $slider.length&&$.each($slider,function(){var $slideList,begin,$currentSlider=$(this),$slideHolder=$currentSlider.find("."+slideHolderClass),$slides=$slideHolder.find("."+slideClass),$currentSliderControls=$currentSlider.find("."+navClass).find("button"),$nextControl=$currentSlider.find("."+navClass).find("button[data-dir='next']"),$body=$("body");if("slide-left"===effect){var slideWidth=$slides.first().width(),numSlides=$slides.length;$currentSlider.addClass("slide-left"),$slideHolder.css("width",slideWidth*numSlides)}else"fade"===effect&&$slides.hide().first().show();$slideList=createSlideList($slides).appendTo($currentSlider),auto&&(begin=startShow(interval,$slides,$nextControl),$slides.on("mouseover",function(){pauseShow(begin)}),$slides.on("mouseout",function(){begin=startShow(interval,$slides,$nextControl)})),$currentSliderControls.on("click",function(e){var nextSlide,dir=$(this).data("dir"),current=getCurrent($slideHolder);nextSlide=advanceSlide(current,dir,$slideHolder),$slideList.find("button").removeClass("active"),$slideList.find("li").eq(nextSlide).find("button").addClass("active"),e.preventDefault(),e.stopPropagation()}),$currentSlider.on({mouseenter:function(){var $holder=$(this).find("."+slideHolderClass);$body.keydown(function(e){if(isAnimating)return e.preventDefault(),!1;var nextSlide=pageSlide(e,$holder);$slideList.find("button").removeClass("active"),$slideList.find("li").eq(nextSlide).find("button").addClass("active")})},mouseleave:function(){$body.off("keydown")}}),$currentSlider.on("click","."+slideListClass+" button",function(e){var $that=$(this),current=getCurrent($slideHolder),slideNum=$that.data("item-num");$slideList.find("button").removeClass("active"),$that.addClass("active"),goToSlide(current,slideNum,$slideHolder),e.preventDefault(),e.stopPropagation()})}),self}}(jQuery);